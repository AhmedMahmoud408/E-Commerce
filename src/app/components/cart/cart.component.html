<section>
    @if (statusMsg == 'success' && numOfItems!=0) {
        <div class="container">
            <div class=" d-flex align-items-center justify-content-between">
             <div>
                 <div class="d-flex align-items-center justify-content-start ">
                     <h1 class=" medium text-black fw-bolder me-2" >Cart</h1>
                     <h6 class="small text-muted text-secondary">({{numOfItems}} Items)</h6>
                     
                 </div>
                 <h3 class="fw-bolder ">TOTAL PRICE: EGP {{cartDetails.totalCartPrice}}</h3>
             </div>
             <div class="me-3">
                <button (click)="removeAll()" class="btn btn-danger fw-bolder display-4 mx-4"> Delete All</button>
                 <button [routerLink]="['/checkorders', cartDetails._id]" class="btn btn-main fw-bolder display-4"> <i class="fa-solid fa-cash-register"></i> CHECKOUT</button>
             </div>
            </div>
     
             @for (item of cartDetails.products; track item.product._id) {
     
                 <div class="row my-3 bg-body-secondary shadow-sm rounded-2 align-items-center">
                     <div class="col-md-2">
                         <div class="rounded-3 overflow-hidden my-2">
                             <img [src]="item.product.imageCover" class="w-100" alt="">
                         </div>
                     </div>
                     <div class="col-md-10">
                         <div class="d-flex align-items-center justify-content-between">
                             <div class="position-relative rounded-3 px-1">
                                 <div>
                                     <span class="badge small badge-main me-1"> {{item.product.brand.name}} </span>
                                     <span class="badge small badge-main mx-1"> {{item.product.category.name}} </span>
                                     <h6 class="pt-2 fw-bold">{{item.product.title}}</h6>
                                     <div>
                 
                                         <div class="w-fit my-2">
                                             <p><i class="fa-solid fa-bag-shopping main-color"></i> {{item.product.quantity}} Only quantity left in stock</p>
                                         </div>
                                     </div>
                                     <h6><span class="h5 fw-bold">EGP {{item.price}}</span> </h6>
                                 </div>
         
                                 <button (click)="removeItem(item.product.id)" class="btn btn-outline-danger me-3 my-3"> <i class="fa-solid fa-trash-can "></i> Remove</button>
                                 <button class="btn btn-outline-secondary  my-3"> <i class="fa-regular fa-heart "></i> Add to wishlist</button>
                             </div>
                             <div class="me-3 ">
                                <span (click)="updateCount(item.product.id, item.count+1)" class="main-color cr"><i class="fa-solid fa-circle-plus fa-2xl"></i> </span> 
                                <span class="h4 fw-bolder mx-2 text-black">{{item.count}}</span>
                                <span (click)="updateCount(item.product.id, item.count-1)" class="main-color cr"><i class="fa-solid fa-circle-minus fa-2xl"></i></span> 
                             </div>
                         </div>
                     </div>
                 </div>
             }
     
     
         </div>
    }@else {
        <div class="container">
            <div class=" row align-items-center">
                <div class="col-md-6">
                    <img src="./assets/images/empty-cart.png" class="w-100" alt="">
                </div>         
                <div class="col-md-6" >
                    <p class="fs-1 text-black fw-bolder">Your shoping cart looks empty </p>
                    <button class="btn-main"> <a class="text-white" routerLink="/home"> START SHOPPING</a> </button>
                </div>
                
            </div>
        </div>
    } 

    
</section>
